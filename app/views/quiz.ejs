<%- include('partials/head') %>

<main class="container py-4">

    <h1 class="text-center m-2"> <%= quiz.title %> </h1>
  
    <h2 class="text-center m-2"> <%= quiz.description %> </h1>
  
    <h2 class="small text-end">Par <%= quiz.author.fullname %> </h2>
  <% const date = quiz.created_at %>
  <% let options = {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  }; %>
    <h2 class="small text-end">Crée le <%= Intl.DateTimeFormat("fr-FR", options).format(date) %> </h2>
  
    <h3>Thèmes</h3>
    <ul class="mb-4 p-0">
      <% const tags = quiz.tags %>
      <% tags.forEach(tag => { %>
          
          <li class="badge bg-primary"> <%= tag.name %></li>
          
      <% }) %>
    </ul>
  
    <h3>Questions</h3>

      <% for( let index = 0; index < questions.length; index++ ) { %>
      
        <% const answers = questions[index].answers %>

        <span class="badge bg-info"> <%= questions[index].level.name %></span>
        <p class="fw-bold mb-1"><%= questions[index].description %></p>
        <div class="mb-3 ms-2">

          <% for( let index = 0; index < answers.length; index++ ) { %>
          
            <div>
              <input type="radio" id="<%= answers[index].id %>" name="<%= answers[index].name %>" value="<%= answers[index].description%>">
              <label for="<%= answers[index].id %>"> <%= answers[index].description %> </label>
            </div>

          <% } %>

        </div>
        <p class="fst-italic text-secondary"><%= questions[index].anecdote %></p>
        
      <% } %>
        
        <button class="d-block mx-auto btn btn-primary mb-4">Envoyer</button>  
  <%- include('partials/foot') %>